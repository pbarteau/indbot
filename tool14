from langgraph.graph import StateGraph, START, END
from langgraph.prebuilt import ToolNode
from langgraph.prebuilt import tools_condition




def tool_calling_llm(state: State):
    return {"messages": [llm_with_tools.invoke(state["messages"])]}



graph_builder = StateGraph(State)

graph_builder.add_node("chatbot", tool_calling_llm)
graph_builder.add_node("tool_node", ToolNode(tools))

graph_builder.add_edge(START, "chatbot")
graph_builder.add_conditional_edges(
    "chatbot",
    tools_condition,
    {
        "tools": "tool_node",
        "__end__": END
    }
)
graph_builder.add_edge("tool_node", "chatbot")
graph = graph_builder.compile()
